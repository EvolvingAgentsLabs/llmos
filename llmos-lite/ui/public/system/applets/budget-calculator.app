{
  "metadata": {
    "id": "applet-budget-calculator-001",
    "name": "Budget Calculator",
    "description": "Calculate your monthly budget with income, expenses, and savings goals",
    "version": "1.0.0",
    "createdAt": "2024-01-15T00:00:00.000Z",
    "updatedAt": "2024-01-15T00:00:00.000Z",
    "tags": ["finance", "budget", "calculator", "money"],
    "icon": "Calculator"
  },
  "code": "function Component({ onSubmit }) {\n  const [income, setIncome] = useState([{ name: 'Salary', amount: 5000 }]);\n  const [expenses, setExpenses] = useState([\n    { name: 'Rent', amount: 1500, category: 'Housing' },\n    { name: 'Utilities', amount: 200, category: 'Housing' },\n    { name: 'Groceries', amount: 400, category: 'Food' },\n    { name: 'Transportation', amount: 300, category: 'Transport' }\n  ]);\n  const [savingsGoal, setSavingsGoal] = useState(20);\n\n  const categories = ['Housing', 'Food', 'Transport', 'Entertainment', 'Health', 'Shopping', 'Other'];\n\n  const totalIncome = income.reduce((sum, i) => sum + (parseFloat(i.amount) || 0), 0);\n  const totalExpenses = expenses.reduce((sum, e) => sum + (parseFloat(e.amount) || 0), 0);\n  const remaining = totalIncome - totalExpenses;\n  const savingsTarget = totalIncome * (savingsGoal / 100);\n  const isMeetingGoal = remaining >= savingsTarget;\n\n  const addIncome = () => setIncome([...income, { name: '', amount: 0 }]);\n  const addExpense = () => setExpenses([...expenses, { name: '', amount: 0, category: 'Other' }]);\n\n  const updateIncome = (index, field, value) => {\n    const newIncome = [...income];\n    newIncome[index][field] = field === 'amount' ? parseFloat(value) || 0 : value;\n    setIncome(newIncome);\n  };\n\n  const updateExpense = (index, field, value) => {\n    const newExpenses = [...expenses];\n    newExpenses[index][field] = field === 'amount' ? parseFloat(value) || 0 : value;\n    setExpenses(newExpenses);\n  };\n\n  const removeIncome = (index) => setIncome(income.filter((_, i) => i !== index));\n  const removeExpense = (index) => setExpenses(expenses.filter((_, i) => i !== index));\n\n  const expensesByCategory = categories.map(cat => ({\n    category: cat,\n    total: expenses.filter(e => e.category === cat).reduce((sum, e) => sum + (parseFloat(e.amount) || 0), 0)\n  })).filter(c => c.total > 0);\n\n  const formatCurrency = (amount) => new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto\">\n      <h2 className=\"text-2xl font-bold text-gray-200 mb-6\">Monthly Budget Calculator</h2>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Income Section */}\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-green-400\">Income</h3>\n            <button\n              onClick={addIncome}\n              className=\"px-3 py-1 bg-green-600/20 hover:bg-green-600/30 text-green-400 rounded text-sm transition-colors\"\n            >\n              + Add\n            </button>\n          </div>\n\n          <div className=\"space-y-3\">\n            {income.map((item, index) => (\n              <div key={index} className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={item.name}\n                  onChange={(e) => updateIncome(index, 'name', e.target.value)}\n                  className=\"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white text-sm\"\n                  placeholder=\"Source\"\n                />\n                <div className=\"relative\">\n                  <span className=\"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400\">$</span>\n                  <input\n                    type=\"number\"\n                    value={item.amount}\n                    onChange={(e) => updateIncome(index, 'amount', e.target.value)}\n                    className=\"w-28 p-2 pl-6 bg-gray-700 border border-gray-600 rounded text-white text-sm text-right\"\n                  />\n                </div>\n                <button\n                  onClick={() => removeIncome(index)}\n                  className=\"p-2 hover:bg-red-500/20 text-gray-400 hover:text-red-400 rounded transition-colors\"\n                >\n                  ×\n                </button>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"mt-4 pt-4 border-t border-gray-700 flex justify-between items-center\">\n            <span className=\"text-gray-400\">Total Income</span>\n            <span className=\"text-xl font-bold text-green-400\">{formatCurrency(totalIncome)}</span>\n          </div>\n        </div>\n\n        {/* Expenses Section */}\n        <div className=\"bg-gray-800 border border-gray-700 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-red-400\">Expenses</h3>\n            <button\n              onClick={addExpense}\n              className=\"px-3 py-1 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded text-sm transition-colors\"\n            >\n              + Add\n            </button>\n          </div>\n\n          <div className=\"space-y-3 max-h-64 overflow-y-auto\">\n            {expenses.map((item, index) => (\n              <div key={index} className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={item.name}\n                  onChange={(e) => updateExpense(index, 'name', e.target.value)}\n                  className=\"flex-1 p-2 bg-gray-700 border border-gray-600 rounded text-white text-sm\"\n                  placeholder=\"Expense\"\n                />\n                <select\n                  value={item.category}\n                  onChange={(e) => updateExpense(index, 'category', e.target.value)}\n                  className=\"w-28 p-2 bg-gray-700 border border-gray-600 rounded text-white text-sm\"\n                >\n                  {categories.map(c => <option key={c} value={c}>{c}</option>)}\n                </select>\n                <div className=\"relative\">\n                  <span className=\"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400\">$</span>\n                  <input\n                    type=\"number\"\n                    value={item.amount}\n                    onChange={(e) => updateExpense(index, 'amount', e.target.value)}\n                    className=\"w-24 p-2 pl-6 bg-gray-700 border border-gray-600 rounded text-white text-sm text-right\"\n                  />\n                </div>\n                <button\n                  onClick={() => removeExpense(index)}\n                  className=\"p-2 hover:bg-red-500/20 text-gray-400 hover:text-red-400 rounded transition-colors\"\n                >\n                  ×\n                </button>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"mt-4 pt-4 border-t border-gray-700 flex justify-between items-center\">\n            <span className=\"text-gray-400\">Total Expenses</span>\n            <span className=\"text-xl font-bold text-red-400\">{formatCurrency(totalExpenses)}</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Summary Section */}\n      <div className=\"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-4\">\n        {/* Remaining */}\n        <div className={`p-4 rounded-lg border ${remaining >= 0 ? 'bg-green-600/10 border-green-600/30' : 'bg-red-600/10 border-red-600/30'}`}>\n          <span className=\"text-gray-400 text-sm\">Remaining</span>\n          <p className={`text-2xl font-bold ${remaining >= 0 ? 'text-green-400' : 'text-red-400'}`}>\n            {formatCurrency(remaining)}\n          </p>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            {remaining >= 0 ? 'Available to save or spend' : 'Over budget!'}\n          </p>\n        </div>\n\n        {/* Savings Goal */}\n        <div className=\"p-4 rounded-lg bg-gray-800 border border-gray-700\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-gray-400 text-sm\">Savings Goal</span>\n            <span className=\"text-blue-400 font-medium\">{savingsGoal}%</span>\n          </div>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"50\"\n            value={savingsGoal}\n            onChange={(e) => setSavingsGoal(parseInt(e.target.value))}\n            className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer\"\n          />\n          <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n            <span>Target: {formatCurrency(savingsTarget)}</span>\n            <span className={isMeetingGoal ? 'text-green-400' : 'text-red-400'}>\n              {isMeetingGoal ? '✓ On track' : '✗ Below target'}\n            </span>\n          </div>\n        </div>\n\n        {/* Breakdown */}\n        <div className=\"p-4 rounded-lg bg-gray-800 border border-gray-700\">\n          <span className=\"text-gray-400 text-sm\">Expense Breakdown</span>\n          <div className=\"mt-2 space-y-1\">\n            {expensesByCategory.slice(0, 4).map(({ category, total }) => (\n              <div key={category} className=\"flex justify-between text-sm\">\n                <span className=\"text-gray-400\">{category}</span>\n                <span className=\"text-gray-200\">{formatCurrency(total)}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* Actions */}\n      <div className=\"mt-6 flex gap-3 justify-end\">\n        <button\n          onClick={() => onSubmit({ income, expenses, totalIncome, totalExpenses, remaining, savingsGoal, savingsTarget })}\n          className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors\"\n        >\n          Save Budget\n        </button>\n      </div>\n    </div>\n  );\n}",
  "state": {}
}