@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Claude Code color palette - Warm, minimal, sophisticated */

    /* Backgrounds - Claude's warm neutrals */
    --bg-primary: 244 243 238; /* #F4F3EE - Pampas (main background) */
    --bg-secondary: 255 255 255; /* #FFFFFF - Pure white for cards */
    --bg-tertiary: 238 236 228; /* Slightly darker warm gray */
    --bg-elevated: 249 248 244; /* Elevated surfaces */

    /* Foreground - Text colors */
    --fg-primary: 31 31 31; /* #1f1f1f - Nearly black for main text */
    --fg-secondary: 82 82 82; /* #525252 - Medium gray for secondary */
    --fg-tertiary: 133 133 133; /* #858585 - Light gray for subtle text */
    --fg-muted: 177 173 161; /* #B1ADA1 - Cloudy (very subtle) */

    /* Accent colors - Claude's signature warmth */
    --accent-primary: 193 95 60; /* #C15F3C - Crail (primary accent) */
    --accent-secondary: 214 123 89; /* Lighter warm orange */
    --accent-success: 76 153 89; /* Warm green */
    --accent-warning: 214 145 89; /* Warm amber */
    --accent-error: 220 85 75; /* Warm red */
    --accent-info: 89 145 214; /* Warm blue */

    /* Borders */
    --border-primary: 228 225 217; /* #E4E1D9 - Very subtle warm border */
    --border-secondary: 210 206 196; /* #D2CEC4 - More visible border */
    --border-focus: 193 95 60; /* #C15F3C - Focus highlight (Crail) */

    /* Overlays */
    --overlay: 31 31 31 / 0.4;
    --glass-bg: 255 255 255 / 0.85;
    --glass-border: 193 95 60 / 0.12;

    /* Shadows - Softer, warmer shadows */
    --shadow-sm: 0 1px 2px 0 rgb(193 95 60 / 0.06);
    --shadow-md: 0 2px 6px 0 rgb(193 95 60 / 0.08);
    --shadow-lg: 0 4px 12px 0 rgb(193 95 60 / 0.1);
    --shadow-xl: 0 8px 24px 0 rgb(193 95 60 / 0.12);
    --shadow-glow: 0 0 16px rgb(193 95 60 / 0.25);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-bg-primary;
    @apply text-fg-primary;
    @apply font-sans text-sm leading-relaxed antialiased;
    @apply overflow-hidden;
    /* Clean, minimal background - no gradients */
  }

  /* Minimal scrollbar - Claude style */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-fg-muted/40 rounded-full;
    @apply hover:bg-fg-muted/60;
    @apply transition-colors duration-150;
  }

  /* Selection - Warm accent */
  ::selection {
    @apply bg-accent-primary/20 text-fg-primary;
  }
}

@layer components {
  /* Glass panel effect - Claude minimal style */
  .glass-panel {
    @apply bg-glass-bg backdrop-blur-lg;
    @apply border border-glass-border rounded-2xl;
    @apply shadow-md;
  }

  /* Card component - Clean and minimal */
  .card {
    @apply bg-bg-secondary border border-border-primary rounded-xl;
    @apply p-5 transition-all duration-150;
    @apply hover:border-border-secondary hover:shadow-sm;
  }

  .card-elevated {
    @apply bg-bg-secondary border border-border-primary rounded-xl;
    @apply p-5 shadow-md;
  }

  /* Button - Primary (Claude style) */
  .btn-primary {
    @apply bg-accent-primary text-white font-medium;
    @apply px-5 py-2.5 rounded-lg;
    @apply transition-all duration-150;
    @apply hover:bg-accent-secondary hover:shadow-md;
    @apply active:scale-[0.98];
    @apply disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-accent-primary;
  }

  /* Button - Secondary */
  .btn-secondary {
    @apply bg-bg-secondary text-fg-primary font-medium;
    @apply px-5 py-2.5 rounded-lg border border-border-primary;
    @apply transition-all duration-150;
    @apply hover:border-border-secondary hover:shadow-sm;
    @apply active:scale-[0.98];
    @apply disabled:opacity-40 disabled:cursor-not-allowed;
  }

  /* Button - Ghost */
  .btn-ghost {
    @apply bg-transparent text-fg-secondary font-medium;
    @apply px-5 py-2.5 rounded-lg;
    @apply transition-all duration-150;
    @apply hover:bg-bg-tertiary hover:text-fg-primary;
    @apply active:scale-[0.98];
  }

  /* Icon button - Subtle and minimal */
  .btn-icon {
    @apply bg-transparent text-fg-secondary;
    @apply w-9 h-9 rounded-lg;
    @apply flex items-center justify-center;
    @apply transition-all duration-150;
    @apply hover:bg-bg-tertiary hover:text-accent-primary;
    @apply active:scale-[0.95];
  }

  /* Input field - Clean with subtle borders */
  .input {
    @apply bg-bg-secondary border border-border-primary;
    @apply text-fg-primary px-4 py-2.5 rounded-lg;
    @apply focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary/30;
    @apply placeholder:text-fg-tertiary;
    @apply transition-all duration-150;
  }

  /* Textarea - Consistent with inputs */
  .textarea {
    @apply bg-bg-secondary border border-border-primary;
    @apply text-fg-primary px-4 py-3 rounded-lg;
    @apply focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary/30;
    @apply placeholder:text-fg-tertiary;
    @apply resize-none;
    @apply transition-all duration-150;
  }

  /* Badge - Subtle and refined */
  .badge {
    @apply inline-flex items-center px-3 py-1;
    @apply bg-bg-tertiary border border-border-primary rounded-full;
    @apply text-xs font-medium text-fg-secondary;
  }

  .badge-success {
    @apply bg-accent-success/8 border-accent-success/20 text-accent-success;
  }

  .badge-warning {
    @apply bg-accent-warning/8 border-accent-warning/20 text-accent-warning;
  }

  .badge-error {
    @apply bg-accent-error/8 border-accent-error/20 text-accent-error;
  }

  .badge-info {
    @apply bg-accent-info/8 border-accent-info/20 text-accent-info;
  }

  /* Heading styles */
  .heading-1 {
    @apply text-2xl font-semibold text-fg-primary tracking-tight;
  }

  .heading-2 {
    @apply text-xl font-semibold text-fg-primary tracking-tight;
  }

  .heading-3 {
    @apply text-lg font-semibold text-fg-primary;
  }

  .heading-4 {
    @apply text-base font-semibold text-fg-primary;
  }

  /* Status indicators with smooth animations */
  .status-dot {
    @apply w-2 h-2 rounded-full;
    @apply animate-pulse-smooth;
  }

  .status-active {
    @apply status-dot bg-accent-success;
  }

  .status-pending {
    @apply status-dot bg-accent-warning;
  }

  .status-error {
    @apply status-dot bg-accent-error;
  }

  .status-inactive {
    @apply status-dot bg-fg-muted;
  }

  /* Divider */
  .divider {
    @apply border-t border-border-primary;
  }

  .divider-vertical {
    @apply border-l border-border-primary h-full;
  }

  /* Hover effects - Subtle Claude style */
  .hover-lift {
    @apply transition-all duration-150;
    @apply hover:translate-y-[-1px] hover:shadow-md;
  }

  .hover-glow {
    @apply transition-all duration-200;
    @apply hover:shadow-glow;
  }

  /* Active/Selected state - Minimal accent */
  .active-item {
    @apply bg-bg-tertiary border-l-2 border-l-accent-primary;
    @apply text-fg-primary;
  }

  /* Code block - Clean with warm tones */
  .code-block {
    @apply bg-bg-secondary border border-border-primary;
    @apply p-4 rounded-xl font-mono text-sm overflow-x-auto;
  }

  /* Skeleton loader - Subtle animation */
  .skeleton {
    @apply bg-bg-tertiary rounded-lg animate-pulse;
  }

  /* Toast/notification - Refined appearance */
  .toast {
    @apply glass-panel p-5 min-w-[320px] max-w-md;
    @apply animate-slide-in-from-right;
  }

  /* Tabs - Minimal with warm accents */
  .tab {
    @apply px-5 py-3 text-sm font-medium text-fg-secondary;
    @apply border-b-2 border-transparent;
    @apply transition-all duration-150;
    @apply hover:text-fg-primary hover:border-border-secondary;
  }

  .tab-active {
    @apply tab text-fg-primary border-accent-primary;
  }

  /* Sidebar navigation item - Minimal hover states */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-2.5 rounded-lg;
    @apply text-fg-secondary text-sm font-medium;
    @apply transition-all duration-150;
    @apply hover:bg-bg-tertiary hover:text-fg-primary;
    @apply cursor-pointer;
  }

  .nav-item-active {
    @apply nav-item bg-bg-tertiary text-fg-primary;
    @apply border-l-2 border-l-accent-primary pl-[14px];
  }

  /* Panel header - Clean separation */
  .panel-header {
    @apply flex items-center justify-between px-5 py-4;
    @apply border-b border-border-primary;
    @apply bg-bg-secondary;
  }

  /* Empty state */
  .empty-state {
    @apply flex flex-col items-center justify-center;
    @apply text-center py-12 px-4;
  }

  .empty-state-icon {
    @apply w-16 h-16 mb-4 text-fg-muted;
  }

  .empty-state-title {
    @apply text-lg font-medium text-fg-primary mb-2;
  }

  .empty-state-description {
    @apply text-sm text-fg-secondary max-w-sm;
  }
}

@layer utilities {
  /* Animations */
  .animate-pulse-smooth {
    animation: pulse-smooth 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .animate-slide-in-from-right {
    animation: slide-in-from-right 0.3s ease-out;
  }

  .animate-slide-in-from-left {
    animation: slide-in-from-left 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out;
  }

  /* Text utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-accent-primary to-accent-secondary;
    @apply bg-clip-text text-transparent;
  }

  /* Truncate with tooltip */
  .truncate-line-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-line-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Keyframe animations */
@keyframes pulse-smooth {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in-from-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-in-from-left {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes scale-in {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* React Flow custom styles - Claude theme */
.react-flow {
  @apply bg-bg-primary;
}

.react-flow__node {
  @apply bg-bg-secondary border border-border-primary rounded-xl;
  @apply font-sans text-sm shadow-sm;
}

.react-flow__node.selected {
  @apply border-accent-primary shadow-md;
}

.react-flow__edge {
  stroke: rgb(var(--accent-primary));
  stroke-width: 2;
}

.react-flow__edge.selected {
  stroke: rgb(var(--accent-secondary));
}

.react-flow__controls {
  @apply bg-bg-secondary border border-border-primary rounded-xl shadow-md;
}

.react-flow__controls button {
  @apply bg-transparent border-none text-fg-secondary;
  @apply hover:bg-bg-tertiary hover:text-accent-primary;
  @apply transition-colors duration-150;
}

/* Monaco Editor custom styles - Light theme */
.monaco-editor {
  @apply font-mono;
}

.monaco-editor .margin {
  @apply bg-bg-secondary;
}

/* xterm.js terminal styles - Warm theme */
.xterm {
  @apply font-mono;
  padding: 0;
}

.xterm-viewport {
  @apply bg-bg-secondary;
}

.xterm .xterm-cursor-layer .xterm-cursor {
  @apply bg-accent-primary;
}

.xterm .xterm-selection {
  background-color: rgba(193, 95, 60, 0.25) !important;
}

/* Syntax highlighting for code blocks (highlight.js) - Light theme */
.hljs {
  @apply bg-bg-secondary text-fg-primary;
  @apply rounded-xl p-4 overflow-x-auto;
  @apply font-mono text-sm border border-border-primary;
}

/* Warm, sophisticated syntax highlighting */
.hljs-comment,
.hljs-quote {
  @apply text-fg-tertiary italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  @apply text-[rgb(166,65,145)]; /* Warm purple */
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  @apply text-[rgb(76,153,89)]; /* Warm green */
}

.hljs-string,
.hljs-doctag {
  @apply text-[rgb(193,95,60)]; /* Crail - primary accent */
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  @apply text-[rgb(140,109,49)]; /* Warm gold */
}

.hljs-type,
.hljs-class .hljs-title {
  @apply text-[rgb(89,145,214)]; /* Warm blue */
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  @apply text-[rgb(89,145,214)]; /* Warm blue */
}

.hljs-regexp,
.hljs-link {
  @apply text-accent-error;
}

.hljs-symbol,
.hljs-bullet {
  @apply text-accent-primary;
}

.hljs-built_in,
.hljs-builtin-name {
  @apply text-[rgb(140,109,49)]; /* Warm gold */
}

.hljs-meta {
  @apply text-fg-tertiary;
}

.hljs-deletion {
  @apply bg-accent-error/10;
}

.hljs-addition {
  @apply bg-accent-success/10;
}

.hljs-emphasis {
  @apply italic;
}

.hljs-strong {
  @apply font-semibold;
}

/* Markdown content styles - Claude's clean typography */
.markdown-content {
  @apply text-fg-primary leading-relaxed;
}

.markdown-content h1 {
  @apply text-2xl font-semibold text-fg-primary mt-8 mb-4 pb-3 border-b border-border-primary;
}

.markdown-content h2 {
  @apply text-xl font-semibold text-fg-primary mt-6 mb-3 pb-2 border-b border-border-primary;
}

.markdown-content h3 {
  @apply text-lg font-semibold text-fg-primary mt-5 mb-2;
}

.markdown-content h4 {
  @apply text-base font-semibold text-fg-primary mt-4 mb-2;
}

.markdown-content h5,
.markdown-content h6 {
  @apply text-sm font-semibold text-fg-secondary mt-3 mb-1;
}

.markdown-content p {
  @apply my-4 text-fg-secondary leading-relaxed;
}

.markdown-content ul,
.markdown-content ol {
  @apply my-4 ml-6 space-y-2 text-fg-secondary;
}

.markdown-content ul {
  @apply list-disc;
}

.markdown-content ol {
  @apply list-decimal;
}

.markdown-content li {
  @apply pl-2;
}

.markdown-content a {
  @apply text-accent-primary hover:text-accent-secondary underline decoration-1 underline-offset-2;
  @apply transition-colors duration-150;
}

.markdown-content code {
  @apply bg-bg-tertiary text-accent-primary px-2 py-0.5 rounded-md text-sm font-mono;
}

.markdown-content pre {
  @apply my-5 rounded-xl overflow-hidden;
}

.markdown-content pre code {
  @apply bg-transparent text-fg-primary p-0;
}

.markdown-content blockquote {
  @apply border-l-4 border-accent-primary/40 pl-5 py-2 my-5;
  @apply bg-accent-primary/5 text-fg-secondary;
}

.markdown-content table {
  @apply w-full my-5 border border-border-primary rounded-xl overflow-hidden;
}

.markdown-content thead {
  @apply bg-bg-tertiary;
}

.markdown-content th {
  @apply px-5 py-3 text-left text-sm font-semibold text-fg-primary border-b border-border-primary;
}

.markdown-content td {
  @apply px-5 py-3 text-sm text-fg-secondary border-b border-border-primary;
}

.markdown-content tbody tr:last-child td {
  @apply border-b-0;
}

.markdown-content tbody tr:hover {
  @apply bg-bg-tertiary/30;
}

.markdown-content hr {
  @apply my-8 border-t border-border-primary;
}

.markdown-content img {
  @apply max-w-full h-auto rounded-xl my-5;
}

.markdown-content strong {
  @apply text-fg-primary font-semibold;
}

.markdown-content em {
  @apply text-fg-secondary italic;
}
