@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* VS Code Dark+ color palette */

    /* Backgrounds - VS Code style */
    --bg-primary: 30 30 30; /* #1e1e1e - Editor background */
    --bg-secondary: 37 37 38; /* #252526 - Sidebar background */
    --bg-tertiary: 45 45 45; /* #2d2d2d - Input backgrounds */
    --bg-elevated: 51 51 51; /* #333333 - Hover states */

    /* Foreground - VS Code text colors */
    --fg-primary: 212 212 212; /* #d4d4d4 - Main text */
    --fg-secondary: 153 153 153; /* #999999 - Secondary text */
    --fg-tertiary: 106 106 106; /* #6a6a6a - Subtle text */
    --fg-muted: 85 85 85; /* #555555 - Very subtle */

    /* Accent colors - VS Code inspired */
    --accent-primary: 0 122 204; /* #007acc - VS Code blue */
    --accent-secondary: 75 166 251; /* #4ba6fb - Lighter blue */
    --accent-success: 106 153 85; /* #6a9955 - Green */
    --accent-warning: 206 145 120; /* #ce9178 - Orange/amber */
    --accent-error: 244 71 71; /* #f44747 - Red */
    --accent-info: 86 156 214; /* #569cd6 - Info blue */

    /* Borders */
    --border-primary: 51 51 51; /* #333333 - Subtle borders */
    --border-secondary: 69 69 69; /* #454545 - More visible */
    --border-focus: 0 122 204; /* #007acc - Focus highlight */

    /* Overlays */
    --overlay: 0 0 0 / 0.5;
    --glass-bg: 37 37 38 / 0.9;
    --glass-border: 255 255 255 / 0.08;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.1);
    --shadow-md: 0 2px 4px 0 rgb(0 0 0 / 0.2);
    --shadow-lg: 0 4px 8px 0 rgb(0 0 0 / 0.3);
    --shadow-xl: 0 8px 16px 0 rgb(0 0 0 / 0.4);
    --shadow-glow: 0 0 10px rgb(0 122 204 / 0.3);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-gradient-to-br from-bg-primary via-bg-secondary to-bg-primary;
    @apply text-fg-primary;
    @apply font-sans text-sm leading-relaxed antialiased;
    @apply overflow-hidden;
    background-attachment: fixed;
  }

  /* Modern scrollbar */
  ::-webkit-scrollbar {
    @apply w-1.5 h-1.5;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-fg-muted/30 rounded-full;
    @apply hover:bg-fg-muted/50;
    @apply transition-colors duration-200;
  }

  /* Selection */
  ::selection {
    @apply bg-accent-primary/30 text-fg-primary;
  }
}

@layer components {
  /* Glass panel effect */
  .glass-panel {
    @apply bg-glass-bg backdrop-blur-xl;
    @apply border border-glass-border rounded-xl;
    @apply shadow-lg;
  }

  /* Card component */
  .card {
    @apply bg-bg-secondary border border-border-primary rounded-xl;
    @apply p-4 transition-all duration-200;
    @apply hover:border-border-secondary hover:shadow-md;
  }

  .card-elevated {
    @apply bg-bg-tertiary border border-border-secondary rounded-xl;
    @apply p-4 shadow-md;
  }

  /* Modern button - Primary */
  .btn-primary {
    @apply bg-accent-primary text-white font-medium;
    @apply px-4 py-2 rounded-lg;
    @apply transition-all duration-200;
    @apply hover:bg-accent-primary/90 hover:shadow-glow;
    @apply active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-accent-primary;
  }

  /* Modern button - Secondary */
  .btn-secondary {
    @apply bg-bg-tertiary text-fg-primary font-medium;
    @apply px-4 py-2 rounded-lg border border-border-secondary;
    @apply transition-all duration-200;
    @apply hover:bg-bg-elevated hover:border-accent-primary/50;
    @apply active:scale-[0.98];
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Modern button - Ghost */
  .btn-ghost {
    @apply bg-transparent text-fg-secondary font-medium;
    @apply px-4 py-2 rounded-lg;
    @apply transition-all duration-200;
    @apply hover:bg-bg-tertiary hover:text-fg-primary;
    @apply active:scale-[0.98];
  }

  /* Icon button */
  .btn-icon {
    @apply bg-bg-tertiary text-fg-secondary;
    @apply w-9 h-9 rounded-lg;
    @apply flex items-center justify-center;
    @apply transition-all duration-200;
    @apply hover:bg-bg-elevated hover:text-accent-primary;
    @apply active:scale-[0.95];
  }

  /* Input field */
  .input {
    @apply bg-bg-tertiary border border-border-primary;
    @apply text-fg-primary px-3 py-2 rounded-lg;
    @apply focus:outline-none focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20;
    @apply placeholder:text-fg-tertiary;
    @apply transition-all duration-200;
  }

  /* Textarea */
  .textarea {
    @apply bg-bg-tertiary border border-border-primary;
    @apply text-fg-primary px-3 py-2 rounded-lg;
    @apply focus:outline-none focus:border-accent-primary focus:ring-2 focus:ring-accent-primary/20;
    @apply placeholder:text-fg-tertiary;
    @apply resize-none;
    @apply transition-all duration-200;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5;
    @apply bg-bg-tertiary border border-border-primary rounded-md;
    @apply text-xs font-medium text-fg-secondary;
  }

  .badge-success {
    @apply bg-accent-success/10 border-accent-success/30 text-accent-success;
  }

  .badge-warning {
    @apply bg-accent-warning/10 border-accent-warning/30 text-accent-warning;
  }

  .badge-error {
    @apply bg-accent-error/10 border-accent-error/30 text-accent-error;
  }

  .badge-info {
    @apply bg-accent-info/10 border-accent-info/30 text-accent-info;
  }

  /* Heading styles */
  .heading-1 {
    @apply text-2xl font-semibold text-fg-primary tracking-tight;
  }

  .heading-2 {
    @apply text-xl font-semibold text-fg-primary tracking-tight;
  }

  .heading-3 {
    @apply text-lg font-semibold text-fg-primary;
  }

  .heading-4 {
    @apply text-base font-semibold text-fg-primary;
  }

  /* Status indicators with smooth animations */
  .status-dot {
    @apply w-2 h-2 rounded-full;
    @apply animate-pulse-smooth;
  }

  .status-active {
    @apply status-dot bg-accent-success;
  }

  .status-pending {
    @apply status-dot bg-accent-warning;
  }

  .status-error {
    @apply status-dot bg-accent-error;
  }

  .status-inactive {
    @apply status-dot bg-fg-muted;
  }

  /* Divider */
  .divider {
    @apply border-t border-border-primary;
  }

  .divider-vertical {
    @apply border-l border-border-primary h-full;
  }

  /* Hover effects */
  .hover-lift {
    @apply transition-all duration-200;
    @apply hover:translate-y-[-2px] hover:shadow-lg;
  }

  .hover-glow {
    @apply transition-all duration-300;
    @apply hover:shadow-glow;
  }

  /* Active/Selected state */
  .active-item {
    @apply bg-bg-elevated border-l-2 border-l-accent-primary;
    @apply text-fg-primary;
  }

  /* Code block */
  .code-block {
    @apply bg-bg-primary border border-border-primary;
    @apply p-3 rounded-lg font-mono text-xs overflow-x-auto;
  }

  /* Skeleton loader */
  .skeleton {
    @apply bg-bg-tertiary rounded animate-pulse;
  }

  /* Toast/notification */
  .toast {
    @apply glass-panel p-4 min-w-[300px] max-w-md;
    @apply animate-slide-in-from-right;
  }

  /* Tabs */
  .tab {
    @apply px-4 py-2 text-sm font-medium text-fg-secondary;
    @apply border-b-2 border-transparent;
    @apply transition-all duration-200;
    @apply hover:text-fg-primary hover:border-border-secondary;
  }

  .tab-active {
    @apply tab text-fg-primary border-accent-primary;
  }

  /* Sidebar navigation item */
  .nav-item {
    @apply flex items-center gap-3 px-3 py-2 rounded-lg;
    @apply text-fg-secondary text-sm font-medium;
    @apply transition-all duration-200;
    @apply hover:bg-bg-tertiary hover:text-fg-primary;
    @apply cursor-pointer;
  }

  .nav-item-active {
    @apply nav-item bg-bg-tertiary text-fg-primary;
    @apply border-l-2 border-l-accent-primary;
  }

  /* Panel header */
  .panel-header {
    @apply flex items-center justify-between px-4 py-3;
    @apply border-b border-border-primary;
    @apply bg-bg-secondary/50 backdrop-blur-sm;
  }

  /* Empty state */
  .empty-state {
    @apply flex flex-col items-center justify-center;
    @apply text-center py-12 px-4;
  }

  .empty-state-icon {
    @apply w-16 h-16 mb-4 text-fg-muted;
  }

  .empty-state-title {
    @apply text-lg font-medium text-fg-primary mb-2;
  }

  .empty-state-description {
    @apply text-sm text-fg-secondary max-w-sm;
  }
}

@layer utilities {
  /* Animations */
  .animate-pulse-smooth {
    animation: pulse-smooth 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .animate-slide-in-from-right {
    animation: slide-in-from-right 0.3s ease-out;
  }

  .animate-slide-in-from-left {
    animation: slide-in-from-left 0.3s ease-out;
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out;
  }

  /* Text utilities */
  .text-gradient {
    @apply bg-gradient-to-r from-accent-primary to-accent-secondary;
    @apply bg-clip-text text-transparent;
  }

  /* Truncate with tooltip */
  .truncate-line-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-line-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

/* Keyframe animations */
@keyframes pulse-smooth {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in-from-right {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slide-in-from-left {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes scale-in {
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* React Flow custom styles */
.react-flow {
  @apply bg-bg-primary;
}

.react-flow__node {
  @apply bg-bg-secondary border border-border-primary rounded-lg;
  @apply font-sans text-sm;
}

.react-flow__node.selected {
  @apply border-accent-primary shadow-glow;
}

.react-flow__edge {
  stroke: rgb(var(--accent-primary));
}

.react-flow__edge.selected {
  stroke: rgb(var(--accent-secondary));
}

.react-flow__controls {
  @apply bg-bg-secondary border border-border-primary rounded-lg;
}

.react-flow__controls button {
  @apply bg-transparent border-none text-fg-primary;
  @apply hover:bg-bg-tertiary;
}

/* Monaco Editor custom styles */
.monaco-editor {
  @apply font-mono;
}

.monaco-editor .margin {
  @apply bg-bg-primary;
}

/* xterm.js terminal styles */
.xterm {
  @apply font-mono;
  padding: 0;
}

.xterm-viewport {
  @apply bg-bg-primary;
}

.xterm .xterm-cursor-layer .xterm-cursor {
  @apply bg-accent-primary;
}

.xterm .xterm-selection {
  background-color: rgba(139, 92, 246, 0.3) !important;
}

/* Syntax highlighting for code blocks (highlight.js) */
.hljs {
  @apply bg-bg-primary text-fg-primary;
  @apply rounded-lg p-4 overflow-x-auto;
  @apply font-mono text-sm;
}

/* VS Code Dark+ inspired syntax highlighting */
.hljs-comment,
.hljs-quote {
  @apply text-accent-success italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  @apply text-accent-info;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  @apply text-[rgb(181,206,168)]; /* Light green */
}

.hljs-string,
.hljs-doctag {
  @apply text-accent-warning;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  @apply text-[rgb(220,220,170)]; /* Light yellow */
}

.hljs-type,
.hljs-class .hljs-title {
  @apply text-[rgb(78,201,176)]; /* Teal */
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  @apply text-accent-info;
}

.hljs-regexp,
.hljs-link {
  @apply text-[rgb(209,105,105)]; /* Light red */
}

.hljs-symbol,
.hljs-bullet {
  @apply text-accent-secondary;
}

.hljs-built_in,
.hljs-builtin-name {
  @apply text-[rgb(220,220,170)]; /* Light yellow */
}

.hljs-meta {
  @apply text-fg-tertiary;
}

.hljs-deletion {
  @apply bg-accent-error/20;
}

.hljs-addition {
  @apply bg-accent-success/20;
}

.hljs-emphasis {
  @apply italic;
}

.hljs-strong {
  @apply font-bold;
}

/* Markdown content styles */
.markdown-content {
  @apply text-fg-primary leading-relaxed;
}

.markdown-content h1 {
  @apply text-2xl font-bold text-fg-primary mt-6 mb-4 pb-2 border-b border-border-primary;
}

.markdown-content h2 {
  @apply text-xl font-bold text-fg-primary mt-5 mb-3 pb-2 border-b border-border-primary;
}

.markdown-content h3 {
  @apply text-lg font-semibold text-fg-primary mt-4 mb-2;
}

.markdown-content h4 {
  @apply text-base font-semibold text-fg-primary mt-3 mb-2;
}

.markdown-content h5,
.markdown-content h6 {
  @apply text-sm font-semibold text-fg-secondary mt-2 mb-1;
}

.markdown-content p {
  @apply my-3 text-fg-secondary leading-relaxed;
}

.markdown-content ul,
.markdown-content ol {
  @apply my-3 ml-6 space-y-1 text-fg-secondary;
}

.markdown-content ul {
  @apply list-disc;
}

.markdown-content ol {
  @apply list-decimal;
}

.markdown-content li {
  @apply pl-1;
}

.markdown-content a {
  @apply text-accent-primary hover:text-accent-secondary underline;
  @apply transition-colors duration-200;
}

.markdown-content code {
  @apply bg-bg-tertiary text-accent-warning px-1.5 py-0.5 rounded text-sm font-mono;
}

.markdown-content pre {
  @apply my-4 rounded-lg overflow-hidden;
}

.markdown-content pre code {
  @apply bg-transparent text-fg-primary p-0;
}

.markdown-content blockquote {
  @apply border-l-4 border-accent-primary pl-4 py-2 my-4;
  @apply bg-accent-primary/5 text-fg-secondary italic;
}

.markdown-content table {
  @apply w-full my-4 border border-border-primary rounded-lg overflow-hidden;
}

.markdown-content thead {
  @apply bg-bg-tertiary;
}

.markdown-content th {
  @apply px-4 py-2 text-left text-sm font-semibold text-fg-primary border-b border-border-primary;
}

.markdown-content td {
  @apply px-4 py-2 text-sm text-fg-secondary border-b border-border-primary;
}

.markdown-content tbody tr:last-child td {
  @apply border-b-0;
}

.markdown-content tbody tr:hover {
  @apply bg-bg-tertiary/50;
}

.markdown-content hr {
  @apply my-6 border-t border-border-primary;
}

.markdown-content img {
  @apply max-w-full h-auto rounded-lg my-4;
}

.markdown-content strong {
  @apply text-fg-primary font-semibold;
}

.markdown-content em {
  @apply text-fg-secondary italic;
}
