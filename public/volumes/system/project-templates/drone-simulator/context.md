# Drone Simulator Project

## Overview

This project implements a Hardware-in-the-Loop (HIL) drone flight simulator that works with both virtual and physical ESP32-S3 hardware.

## Key Features

- PID-based altitude stabilization
- 4-motor quadcopter simulation
- Virtual ESP32-S3 device emulation
- Physical hardware support via USB serial
- Real-time telemetry display
- Interactive autopilot control

## Architecture

```
┌─────────────────────────────────────────┐
│           Flight Simulator Applet        │
│      (React UI with visualization)       │
├─────────────────────────────────────────┤
│         VirtualFlightController          │
│        (PID control, motor state)        │
├─────────────────────────────────────────┤
│         SerialManager / VirtualESP32     │
│    (Hardware abstraction layer)          │
└─────────────────────────────────────────┘
```

## Files in This Project

- `applets/flight-simulator.app` - Interactive simulator applet
- `lib/virtual-flight-controller.ts` - Flight controller logic
- `config/pid-parameters.json` - PID tuning configuration
- `docs/usage.md` - How to use the simulator

## Getting Started

1. Open the flight simulator applet
2. Click "Arm" to enable motors
3. Enable "Autopilot" for automatic altitude control
4. Adjust target altitude with +/- buttons
5. Click "Start" to begin simulation

## ESP32 Integration

### Virtual Device
The simulator includes a virtual ESP32-S3 device for testing without hardware.

### Physical Device
Connect a real ESP32-S3 with the flight controller firmware:
1. Upload firmware from `firmware/esp32-flight-controller/`
2. Connect via USB
3. Use "Connect Device" in the applet

## PID Tuning

Default parameters:
- kP = 0.5 (proportional gain)
- kI = 0.1 (integral gain)
- kD = 0.2 (derivative gain)

See `docs/usage.md` for tuning guide.

## Related Skills

- `hardware-flight-controller` - How to build flight controllers
- `esp32-json-protocol` - ESP32 communication protocol

## Created By

Generated by LLMos as demonstration of self-building capability.
